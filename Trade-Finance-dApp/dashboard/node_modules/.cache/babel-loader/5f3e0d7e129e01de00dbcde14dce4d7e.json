{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jeremylim/Documents/SMU/dashboard-eth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jeremylim/Documents/SMU/dashboard-eth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Web3 from 'web3';\nvar web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:8545'));\nexport var initialState = {\n  hash: '',\n  blockNo: 0\n}; // export const incrementBlock = block => by => {\n//     block.setState({ value: block.state.value + by });\n// };\n// getBlock(){\n//     web3.eth.getBlock(\"latest\").then(\n//         (result) =>{\n//             this.setState({\n//                 curr_block: result.number\n//             });\n//             this.setState({\n//                 block_hash: result.hash\n//             });\n//             //this.state.block_hash = result.hash;\n//             //this.state.curr_block = result.number;\n//             console.log(result.number);\n//             console.log(result.hash)\n//         }\n//     )\n// }\n\nexport var loadBlocks = function loadBlocks(block) {\n  return (\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return web3.eth.getBlock(\"latest\").then(function (result) {\n                return block.setState({\n                  hash: result.hash\n                });\n              });\n\n            case 2:\n              res = _context.sent;\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))\n  );\n};","map":{"version":3,"sources":["/Users/jeremylim/Documents/SMU/dashboard-eth/src/state/block.js"],"names":["Web3","web3","providers","HttpProvider","initialState","hash","blockNo","loadBlocks","block","eth","getBlock","then","result","setState","res"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,IAAIC,IAAI,GAAG,IAAID,IAAJ,CAAS,IAAIA,IAAI,CAACE,SAAL,CAAeC,YAAnB,CAAgC,uBAAhC,CAAT,CAAX;AAEA,OAAO,IAAMC,YAAY,GAAE;AAEvBC,EAAAA,IAAI,EAAE,EAFiB;AAGvBC,EAAAA,OAAO,EAAE;AAHc,CAApB,C,CAOP;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAC,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAGbP,IAAI,CAACQ,GAAL,CAASC,QAAT,CAAkB,QAAlB,EAA4BC,IAA5B,CACd,UAACC,MAAD;AAAA,uBAAYJ,KAAK,CAACK,QAAN,CAAe;AACvBR,kBAAAA,IAAI,EAACO,MAAM,CAACP;AADW,iBAAf,CAAZ;AAAA,eADc,CAHa;;AAAA;AAGzBS,cAAAA,GAHyB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;AAAA;AAAA,CAAxB","sourcesContent":["import Web3 from 'web3';\nvar web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:8545'));\n\nexport const initialState ={\n    \n    hash: '',\n    blockNo: 0\n    \n};\n\n// export const incrementBlock = block => by => {\n//     block.setState({ value: block.state.value + by });\n// };\n\n// getBlock(){\n//     web3.eth.getBlock(\"latest\").then(\n//         (result) =>{\n//             this.setState({\n//                 curr_block: result.number\n//             });\n//             this.setState({\n//                 block_hash: result.hash\n//             });\n//             //this.state.block_hash = result.hash;\n//             //this.state.curr_block = result.number;\n//             console.log(result.number);\n//             console.log(result.hash)\n//         }\n//     )\n// }\n\nexport const loadBlocks = block => async () => {\n    //settings.setState({ loading: true });\n  \n    const res = await web3.eth.getBlock(\"latest\").then(\n        (result) => block.setState({\n            hash:result.hash,\n        })\n    )\n    //settings.setState({ loading: false, config: res });\n    //block.setState({ loading: false, config: res });\n  }"]},"metadata":{},"sourceType":"module"}