"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports["default"] = exports.useEntity = void 0;

var _react = require("react");

var _store = _interopRequireDefault(require("./store"));

var useEntity = function useEntity(entityId) {
  var entity = _store["default"][entityId];
  var setState = (0, _react.useState)()[1];
  (0, _react.useEffect)(function () {
    entity.subscribers.push(setState);
    return function () {
      for (var i = 0, c = entity.subscribers.length; i < c; i++) {
        if (entity.subscribers[i] === setState) {
          entity.subscribers.splice(i, 1);
          break;
        }
      }
    };
  }, []);
  return [entity.state, entity.actions];
};

exports.useEntity = useEntity;
var _default = useEntity;
exports["default"] = _default;